{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":"<p>The documentation for the OmicsDM data warehouse solution built for the 3TR project</p> <p>For anyone interested in the OmicsDM data warehouse solution but not part of the 3TR consortium:</p> <p>You can find more context about the 3TR project in the About section.</p> <p>OmicsDM's hallmark features (click on the links to learn more):</p> <ul> <li>Group-based data sharing</li> <li>Uncomplicated organization of data</li> <li>Large file upload via a web interface</li> <li>File versioning</li> <li>Provision of private data visualisation environments per user</li> <li>Running analyses directly in the data warehouse</li> <li>Functionalities are split into modules</li> <li>Straightforward to self-host</li> </ul> <p>Depending on your role, you can find the relevant information in the following sections:</p> <ul> <li>User</li> <li>Administrator</li> <li>Developer</li> <li>System Administrator</li> </ul> <p>In case you just want to explore the underlying concepts (click on the links to learn more):</p> <ul> <li>Group-based access control</li> <li>3-tier Data Organisation</li> <li>Distributed File Storage</li> <li>Container Orchestration</li> </ul>"},{"location":"content/about/","title":"About","text":""},{"location":"content/about/#development","title":"Development","text":"<p>OmicsDM started as a PhD project of Ivo Christopher Leist at CNAG in 2020. It was initially developed to serve as a flexible and scalable data storage and sharing solution of processed omics data and its patient's clinical information for the 3TR consortium. Since Q1 2022 it is in production use by 3TR. Over the years, 3rd-party tools have been integrated to provide (a) data visualisation and (b) analysis capabilities.</p> ContributorsAcknowledgements"},{"location":"content/about/#documentation","title":"Documentation","text":"<ul> <li>Manuel Rueda</li> </ul>"},{"location":"content/about/#analysis-pipelines","title":"Analysis pipelines","text":"<ul> <li>Anna Esteve-Codina      &amp; Beatriz Martin </li> </ul>"},{"location":"content/about/#cnag","title":"CNAG","text":"<ul> <li> <p>Ivo G. Gut and his      team</p> </li> <li> <p>Davide Piscia and his      team</p> </li> </ul>"},{"location":"content/about/#3tr","title":"3TR","text":"<ul> <li>Guillermo Barturen</li> </ul>"},{"location":"content/about/#3tr_1","title":"3TR","text":""},{"location":"content/3tr-specific/clinical-data-nomenclature/","title":"Clinical Files","text":"<p>These guidelines define a minimal, strict, and parseable file naming convention for clinical data files (e.g., REDCap exports, QC\u2019d datasets, converted FAIR formats).</p>"},{"location":"content/3tr-specific/clinical-data-nomenclature/#required-pattern-minimal","title":"Required pattern (minimal)","text":"<pre><code>[Disease]_[Project]_[StudyID]_[Source]_[Date|Version].ext\n</code></pre>"},{"location":"content/3tr-specific/clinical-data-nomenclature/#extended-pattern-optional-blocks","title":"Extended pattern (optional blocks)","text":"<pre><code>[Disease]_[Project]_[StudyID]_[Source]_[Date|Version][_[QCStatus]-[QCBy]][_CONV-[Target][-SchemaVer]].ext\n</code></pre> Field Rules <ul> <li>Allowed characters: <code>A-Z</code>, <code>0-9</code>, and <code>-</code> inside components. Use <code>_</code> only as the component separator.</li> <li>No spaces or diacritics.</li> <li>Extensions are lowercase.</li> </ul>"},{"location":"content/3tr-specific/clinical-data-nomenclature/#components","title":"Components","text":"<ol> <li>[Disease] - Disease acronym (e.g., <code>MS</code>, <code>IBD</code>, <code>UC</code>).</li> <li>[Project] - Consortium or project code (e.g., <code>3TR</code>, <code>PRECISESADS</code>).</li> <li>[StudyID] - Unique study identifier (e.g., <code>Study123</code>, <code>CohortA</code>).</li> <li>[Source] - Data origin/type (see controlled list below).</li> <li>[Date|Version] - Either:<ul> <li>Date: <code>YYYYMMDD</code>, or</li> <li>Version: <code>vN</code> or <code>vN.N.N</code>.</li> </ul> </li> <li>[QCStatus]-[QCBy] - Optional QC pair:<ul> <li><code>QCStatus</code> in <code>{PASS, FAIL, PARTIAL, NA}</code>.</li> <li><code>QCBy</code> is the center code performing QC (e.g., <code>CNAG</code>, <code>KI</code>, <code>FPS</code>).</li> </ul> </li> <li>CONV-Target[-SchemaVer] - Optional conversion info:<ul> <li><code>Target</code> in <code>{OMOP, PXF, BFF}</code>.</li> <li>Optional <code>SchemaVer</code> (e.g., <code>5_4</code>, <code>2.0</code>).</li> </ul> </li> <li>.ext - File extension: <code>.csv</code>, <code>.json</code>, <code>.txt</code> and <code>yaml</code>.</li> </ol> Controlled Vocabularies <ul> <li> <p>Source: <code>REDCAP-RAW</code> (raw export), <code>REDCAP-LABEL</code> (labeled export), <code>REDCAP-DICT</code> (data dictionary), <code>CSV-RAW</code> (free-form CSV), <code>CDISC</code> (export)</p> </li> <li> <p>QCStatus: <code>PASS</code>, <code>FAIL</code>, <code>PARTIAL</code>, <code>NA</code></p> </li> <li> <p>CONV-Target (optional): <code>OMOP</code>, <code>PXF</code>, <code>BFF</code></p> </li> </ul>"},{"location":"content/3tr-specific/clinical-data-nomenclature/#examples-minimal","title":"Examples (minimal)","text":"<p>Multiple sclerosis (MS), 3TR, Minimal (no QC, no conversion) <pre><code>MS_3TR_Study123_REDCAP-RAW_20231204.csv\n</code></pre></p> <p>Rheumatoid arthritis (RA), PRECISESADS, Minimal (no QC, no conversion) <pre><code>RA_PRECISESADS_Study123_CSV-RAW_20231204.csv\n</code></pre></p>"},{"location":"content/3tr-specific/clinical-data-nomenclature/#examples-extended","title":"Examples (extended)","text":"<p>Multiple sclerosis (MS), 3TR, Labeled CSV, QC passed by FPS <pre><code>MS_3TR_Study123_REDCAP-LABEL_20231204_PASS-FPS.csv\n</code></pre></p> <p>Multiple sclerosis (MS), 3TR, REDCap dictionary, QC failed at KI <pre><code>MS_3TR_Study123_REDCAP-DICT_20240115_FAIL-KI.csv\n</code></pre></p> <p>Multiple sclerosis (MS), 3TR, raw export converted to Beacon v2 (BFF), QC by CNAG <pre><code>MS_3TR_Study123_REDCAP-RAW_20231204_PASS-CNAG_CONV-BFF-2.0.json\n</code></pre></p> <p>Rheumatoid arthritis (RA), PRECISESADS, free CSV, partial QC by FPS <pre><code>RA_PRECISESADS_Study123_CSV-RAW_v1.1.0_PARTIAL-FPS.csv\n</code></pre></p>"},{"location":"content/3tr-specific/clinical-data-nomenclature/#validation-regex-starter","title":"Validation Regex (starter)","text":"<p>Use this to lint filenames. Adjust only if you extend vocabularies.</p> <pre><code>^[A-Z0-9]+_[A-Z0-9]+_[A-Za-z0-9-]+_(?:REDCAP-(?:RAW|LABEL|DICT)|CSV-RAW|CDISC)_(?:\\d{8}|v\\d+(?:\\.\\d+){0,2})(?:_(?:PASS|FAIL|PARTIAL|NA)-[A-Z0-9]+)?(?:_CONV-(?:OMOP|PXF|BFF)(?:-[0-9]+(?:[._][0-9]+)*)?)?\\.(?:csv|json|txt|yaml)$\n</code></pre>"},{"location":"content/3tr-specific/clinical-data-nomenclature/#cli-linter-scripts","title":"CLI Linter Scripts","text":"<p>Use the accompanying Python, Perl or R scripts to validate names locally.</p> <p>Example</p> <pre><code># Python 3\npython3 3tr_validate_filename.py MS_3TR_Study123_REDCAP-RAW_20231204.csv\n\n# Perl 5\nperl 3tr_validate_filename.pl MS_3TR_Study123_REDCAP-RAW_20231204.csv \n\n# R\nRscript 3tr_validate_filename.R MS_3TR_Study123_REDCAP-RAW_20231204.csv\n</code></pre>"},{"location":"content/3tr-specific/clinical-data/","title":"Clinical Data","text":"<p>Since the molecular data cannot be interpreted without the context of the patient, it is crucial to also store the clinical data  information about the patients.</p> <p>Format of the already uploaded data</p> <ul> <li>Legacy: Raw CSV</li> <li>Collected during 3TR: REDCap exports (CSV)</li> </ul> Exporting data from REDCap <p>We recommend that you export your REDCap project in two formats:</p> <ol> <li>CSV / Microsoft Excel (raw data)</li> </ol> <p>Please select the corresponding box when exporting:</p> <p></p> <p>Figure: Example of REDCap export settings. Source: CDC</p> <p>Additionally, when configuring your export settings, ensure that in the Additional report options, the option \"Combine checkbox options into single column of only the checked-off options\" is not selected.</p> <p></p> <p>Figure: Example of REDCap export settings. Source: CDC</p> <p>After exporting the data, you must also download the REDCap dictionary in CSV format. This can be done within REDCap by navigating to <code>Project Setup/Data Dictionary/Download the current</code>.</p> <ol> <li>CSV / Microsoft Excel (labels)</li> </ol> <p>The procedure for exporting as CSV / Microsoft Excel (labels) is the same as above. Just ensure you select the correct export format.</p> <p>If you need more information on REDCap, we recommend consulting the comprehensive documentation provided by the Cincinnati Children's Hospital Medical Center.</p>"},{"location":"content/3tr-specific/clinical-data/#flowchart-of-clinical-data-in-the-warehouse","title":"Flowchart of clinical data in the warehouse","text":"%%{init: {\"theme\": \"default\", \"themeVariables\": {      \"fontSize\": \"14px\",      \"fontFamily\": \"Arial, sans-serif\",      \"nodePadding\": 10,      \"nodeMargin\": 10,      \"lineHeight\": 1.2  }}}%% flowchart TB     %% Define styles for different subgraphs using MkDocs Material-friendly colors     style DataProducer fill:#E3F2FD,stroke:#1E88E5,stroke-width:2px, color:#000, font-size:14px     style DiseaseExperts fill:#E8F5E9,stroke:#43A047,stroke-width:2px, color:#000, font-size:14px     style CNAG fill:#FFF3E0,stroke:#FB8C00,stroke-width:2px, color:#000, font-size:14px     style Analytics fill:#F3E5F5,stroke:#8E24AA,stroke-width:2px, color:#000, font-size:14px      %% Start and End node styles     A((\ud83d\udce5 Start: REDCap Data Files))     style A fill:#BBDEFB,stroke:#1E88E5,stroke-width:2px, color:#000, font-size:16px     H((\ud83d\udce6 End: Clinical Data Cycle))     style H fill:#FFCDD2,stroke:#E53935,stroke-width:2px, color:#000, font-size:16px      %% Data Producer Subgraph     subgraph DataProducer [\ud83e\uddd1\u200d\ud83d\udcbb Data Producer]       B[\"\ud83d\udce4 Uploads i) REDCap raw data (CSV) + dictionaries (CSV) ii) CSV with labels\"]       style B font-size:14px, padding:10px     end      %% Disease Experts Subgraph     subgraph DiseaseExperts [\ud83e\uddea Disease Experts]       C[\"\ud83d\udd0d Perform QC locally\"]       style C font-size:14px, padding:10px     end      %% CNAG Subgraph     subgraph CNAG [\ud83c\udfe2 CNAG]       E[\"\ud83d\udee0\ufe0f Data are harmonized to GA4GH (BFF/PXF) and OMOP CDM (CSV) formats with Convert-Pheno\"]       style E font-size:14px, padding:10px     end      %% Analytics Subgraph     subgraph Analytics [\ud83d\udcca Analytics]       F[\"\u2b07\ufe0f Users download data for analysis or research\"]       style F font-size:14px, padding:10px     end      %% Define connections with arrows and labels     A --&gt;|Upload Data| B     B --&gt;|Partner Download of CSV w/ Labels| C     C --&gt;|Upload QC CSV to OmicsDM Warehouse| F     B --&gt;|CNAG download of REDCap raw data| E     E --&gt;|Upload Harmonized Clinical Data to OmicsDM Warehouse| F     F --&gt;|Store Data| H      %% Define link styles using MkDocs Material-friendly colors     linkStyle 0 stroke:#1E88E5, stroke-width:2px, stroke-dasharray: 5 5     linkStyle 1 stroke:#43A047, stroke-width:2px     linkStyle 2 stroke:#43A047, stroke-width:2px     linkStyle 3 stroke:#66BB6A, stroke-width:2px     linkStyle 4 stroke:#FB8C00, stroke-width:2px     linkStyle 5 stroke:#8E24AA, stroke-width:2px"},{"location":"content/3tr-specific/introduction/","title":"3TR specific","text":"<p>Information for 3TR consortium members</p> <p>This section contains information that is specific to the 3TR consortium.</p>"},{"location":"content/3tr-specific/introduction/#3tr-project-data","title":"3TR project data","text":"<p>Important terminology and its implications</p> Data source Description Dataset Visibility Defaults Extra Data Policy File Legacy Data collected in clinical trials before the start of the 3TR project Private; Visibility not changeable Optional Collected during 3TR Data generated during the 3TR project Visible to all; Visibility changeable Not allowed <p>The in the data warehouse to be uploaded data can be divided into:</p> <ul> <li> <p> Molecular Data</p> <p>Under molecular data falls all kinds of omics data, such as RNA-seq count matrices.</p> <p> Learn more</p> </li> <li> <p> Clinical Data</p> <p>Clinical data</p> <p> Learn more</p> </li> </ul>"},{"location":"content/3tr-specific/molecular-data-nomenclature/","title":"Molecular Files","text":"<p>These guidelines define a minimal naming convention for molecular data files.</p>"},{"location":"content/3tr-specific/molecular-data-nomenclature/#required-pattern-minimal","title":"Required pattern (minimal)","text":"<pre><code>[Disease]_[Project]_[StudyID]_[Source]_[Date|Version].ext\n</code></pre>"},{"location":"content/3tr-specific/molecular-data-nomenclature/#components","title":"Components","text":"<ol> <li>[Disease] - Disease acronym (e.g., <code>MS</code>, <code>IBD</code>, <code>UC</code>).</li> <li>[Project] - Consortium or project code (e.g., <code>3TR</code>, <code>PRECISESADS</code>).</li> <li>[StudyID] - Unique study identifier (e.g., <code>Study123</code>, <code>CohortA</code>).</li> <li>[Source] - Data origin/type.</li> <li>[Date|Version] - Either:<ul> <li>Date: <code>YYYYMMDD</code>, or</li> <li>Version: <code>vN</code> or <code>vN.N.N</code>.</li> </ul> </li> <li>.ext - File extension: (any)</li> </ol> Example Sources <ul> <li>Source: <code>RNAseq</code>, <code>NfLGFAP</code>, <code>METABOLOMIC</code>, etc.</li> </ul>"},{"location":"content/3tr-specific/molecular-data-nomenclature/#examples","title":"Examples","text":"<p>Rheumatoid arthritis (RA), RAMS, RNA-seq <pre><code>RA_RAMS_Study123_RNASeq_20251022 (+ extension)\n</code></pre></p> <p>Multiple sclerosis (MS), 3TR, NFL and GFAP biomarkers <pre><code>MS_3TR_Study123_NfLGFAP_20241212 (+ extension)\n</code></pre></p>"},{"location":"content/3tr-specific/molecular-data/","title":"Molecular Data","text":"<p>Under molecular data falls all kinds of omics data, such as RNA-seq count matrices.</p>"},{"location":"content/admin-guide/analyses-pipelines-management/","title":"Analyses Pipelines Management","text":"<p>You need to be a member of the <code>admin</code> keycloak group to perform these tasks</p> <p>Here your responsibilities are:</p> <ul> <li>Add a new analysis pipeline temlate</li> </ul>"},{"location":"content/admin-guide/analyses-pipelines-management/#add-a-new-analysis-pipeline-template","title":"Add a new analysis pipeline template","text":""},{"location":"content/admin-guide/data-management/","title":"Data Management","text":"<p>You need to be a member of the <code>admin</code> keycloak group to perform these tasks</p> <p>Here your responsibilities are:</p> <ul> <li>Project creation</li> <li>Modification of project, datasets &amp; file settings/information</li> </ul>"},{"location":"content/admin-guide/data-management/#project-creation","title":"Project creation","text":"<p>When a user requests a new project, you have to create it for them </p>"},{"location":"content/admin-guide/data-management/#modification-of-project-datasets-file-settingsinformation","title":"Modification of project, datasets &amp; file settings/information","text":""},{"location":"content/admin-guide/overview/","title":"Overview","text":"<p>OmicsDM's adminstrative tasks:</p> Category Description Perfom tasks inside User Management Create groups &amp; users; assign users to groups Keycloak Data Management Create projects; modify project, datasets &amp; file settings/information OmicsDM Analyses Pipeline Management Add analyses templates OmicsDM"},{"location":"content/admin-guide/user-management/","title":"User Management","text":"<p>You need access to Keycloak's admin interface to perform these tasks</p> <p>Here your responsibilities are:</p> <ul> <li>Creating groups and users</li> <li>Assigning users to groups</li> </ul>"},{"location":"content/admin-guide/user-management/#creating-users-and-groups-using-keycloaks-admin-interface","title":"Creating users and groups using Keycloak's admin interface","text":""},{"location":"content/admin-guide/user-management/#creating-a-group","title":"Creating a group","text":""},{"location":"content/admin-guide/user-management/#creating-a-user","title":"Creating a user","text":""},{"location":"content/admin-guide/user-management/#assigning-users-to-groups-using-keycloaks-admin-interface","title":"Assigning users to groups using Keycloak's admin interface","text":""},{"location":"content/concepts/3-tier-data-organisation/","title":"3-tier Data Organisation","text":"<p>The data in OmicsDM is organised in a 3-tier structure:</p> <p>Project</p> <p>Dataset(s)</p> <p>File(s)</p>"},{"location":"content/concepts/3-tier-data-organisation/#project","title":"Project","text":"<p>Can only be created by a user in the admin group</p> <p>A project is a collection of datasets. It is the highest level of organisation in OmicsDM. Here an admin user can define the project name, description, the group of users that can  create datasets in the project, the default sharing settings etc.  (see Administrator Guide for more details).</p>"},{"location":"content/concepts/3-tier-data-organisation/#dataset","title":"Dataset","text":"<p>A dataset is a collection of files. It is the second level of organisation in OmicsDM.</p>"},{"location":"content/concepts/3-tier-data-organisation/#file","title":"File","text":"<p>Individual files cannot be shared</p> <p>A file is the lowest level of organisation in OmicsDM. </p>"},{"location":"content/concepts/distributed-file-storage/","title":"Distributed File Storage","text":""},{"location":"content/concepts/distributed-file-storage/#brief-primer-into-file-vs-object-storage","title":"Brief Primer into File vs Object Storage","text":"<p>To emphasize why object storage was chosen for the OmicsDM data warehouse solution.</p> <ul> <li> <p>        File vs Object Storage adapted from                 scaleway.com/en/blog/understanding-the-different-types-of-storage        </p> </li> <li> Feature File Storage Object Storage Location Typically centralized Inherently distributed Organization Hierarchical (folders) Flat namespace (buckets/keys) Metadata Basic (File properties) Extensive and customizable Access Method File paths (e.g., NFS, SMB) HTTP/HTTPS-based APIs (e.g., REST, S3) Mutability Overwrite, appends Objects are replaced as a whole Use Case Real-time applications Large datasets Scalability Vertical (Upgrade existing hardware) Horizontal (Addition of nodes) Cost Scaling can be expensive Cost-efficient at scale </li> </ul>"},{"location":"content/concepts/distributed-file-storage/#object-storage-with-minio","title":"Object Storage with MinIO","text":"<p>The OmicsDM data warehouse solution employs MinIO,  a S3-compatible distribute object storage system, to store all uploaded files, in a so-called S3 bucket. Below is a conceptual overview. For the sake of simplicity, the OmicsDM client is not shown in the diagram.</p> <ul> <li> <p></p> </li> <li> Step Description 1. Get Pre-Signed URL Users send a request to the application server to obtain a pre-signed URL for uploading or downloading files. 2. API Call to MinIO Server The application server requests the generation of a pre-signed URL for a specific file operation (upload or download) in the S3 bucket. 3. Pre-Signed URL Generation The MinIO server creates a pre-signed URL, which contains time-limited credentials and permissions to perform the requested file operation. This URL is sent back to the application server. 4. File Upload/Download The application server provides the pre-signed URL to the user. The user can then use this URL to directly upload files to or download files from the S3 bucket. </li> </ul>"},{"location":"content/concepts/distributed-file-storage/#file-upload-driven-by-evaporatejs","title":"File Upload Driven by EvaporateJS","text":"<p>The file upload is driven by EvaporateJS  a JavaScript library that allows for large file uploads (in chunks) directly from the browser to the S3 bucket.</p>   sequenceDiagram   participant User   participant client as OmicsDM Client (with EvaporateJS)   participant signer_server as OmicsDM Server   participant S3 as S3 Bucket    User-&gt;&gt;client: Upload File Request   loop Until All Chunks Uploaded       client-&gt;&gt;signer_server: Request Signed Policy for Next Chunk       signer_server-&gt;&gt;client: Return Signed Policy       client-&gt;&gt;S3: Upload Next Chunk       S3-&gt;&gt;client: Confirm Chunk Upload Success   end   client-&gt;&gt;S3: Complete Multipart Upload   S3-&gt;&gt;client: Confirm Multipart Upload Success   client-&gt;&gt;User: Notify Upload Complete"},{"location":"content/concepts/distributed-file-storage/#automatic-file-versioning","title":"Automatic File Versioning","text":"<p>The OmicsDM data warehouse solution comes with automatic file versioning:</p> <p>A re-upload of a file with the same name will not overwrite the existing file on the S3 bucket but create a new version of it.</p>   sequenceDiagram   participant User   participant client as OmicsDM Client   participant server as OmicsDM Server   participant S3 as S3 Bucket    User-&gt;&gt;client: Upload File Request   client-&gt;&gt;server: Check for Existing File   server-&gt;&gt;client: Return filename including the new version number   client-&gt;&gt;S3: Upload file using EvaporateJS   S3-&gt;&gt;client: Confirm Upload Success   client-&gt;&gt;server: Notify file upload success   client-&gt;&gt;User: Notify Upload Complete"},{"location":"content/concepts/distributed-file-storage/#file-download-leveraging-presigned-urls","title":"File Download leveraging presigned URLs","text":"<p>For each file selected to be downloaded, the user receives a unique download link, a so-called presigned URL. </p>   sequenceDiagram   participant User   participant client as OmicsDM Client   participant server as OmicsDM Server   participant S3 as S3 Bucket    User-&gt;&gt;client: File Request   client-&gt;&gt;server: Forward File Request   server-&gt;&gt;S3: API Call   S3-&gt;&gt;server: Create Time-bound Presigned URL   server-&gt;&gt;client: Return Presigned URL   client-&gt;&gt;User: Present Presigned URL   User-&gt;&gt;S3: Download File using Presigned URL"},{"location":"content/concepts/distributed-file-storage/#file-deletion","title":"File deletion","text":"<p>To prevent accidental deletion of files, the OmicsDM data warehouse solution has no method to delete any to the S3 bucket uploaded files. The only option the user gets is to mark a file as \"deleted\". This switches a boolean flag in the database, preventing </p> <p>(a) The file from being shown in the files overview</p> <p>(b) The generation of a pre-signed URL for the download of the respective file</p>"},{"location":"content/concepts/docker-container-orchestration/","title":"Docker container orchestration","text":"<p>Info</p> <p>This page explains the concept how OmicsDM provides private data visualisation environments to its users.</p> <p>OmicsDM employs Docker  containers to provide private data visualisaton environments to its users. These containers are ochestrated by ShinyProxy,  a Java-based web application that was initially developed by Open Analytics to deploy Shiny applications. Over the years, ShinyProxy has evolved to support any other containerised applications as well. An conceptual overview is shown below.</p> <p> </p>          Shinyproxy Overview from                           lukesingham.com/shiny-containers-with-shinyproxy"},{"location":"content/concepts/group-based-access-control/","title":"Group-based access control","text":""},{"location":"content/concepts/group-based-access-control/#access-to-functionalities-based-on-users-groups","title":"Access to functionalities based on users' groups","text":"<p>Super-user rights are granted to the <code>admin</code> group. This group has access to all functionalities of the application See Administrator Guide for more details.</p>"},{"location":"content/concepts/group-based-access-control/#access-to-data-based-on-users-groups","title":"Access to data based on users' groups","text":"<p>Data Sharing is only possible on the group level</p> <p>In the 3TR context, the grouping is based on the user's affiliation to an institute/organisation.</p>"},{"location":"content/developer-guide/api-overview/","title":"API overview","text":"<p>Warning</p> <p>The OmicsDM API is using version 2 of the OpenAPI specification. For the purpose of this documentation, the swagger file is converted to version 3 using editor-next.swagger.io.</p>"},{"location":"content/developer-guide/api-overview/#api-10","title":"API 1.0","text":""},{"location":"content/developer-guide/api-overview/#servers","title":"Servers","text":"Description URL //localhost/"},{"location":"content/developer-guide/api-overview/#analysis","title":"analysis","text":""},{"location":"content/developer-guide/api-overview/#post-apianalysis","title":"POST /api/analysis/","text":"<p>create a new project in Opal via Jenkins</p>"},{"location":"content/developer-guide/api-overview/#response-200-ok","title":"Response 200 OK","text":""},{"location":"content/developer-guide/api-overview/#post-apianalysisabort","title":"POST /api/analysis/abort","text":"<p>abort an analysis</p>"},{"location":"content/developer-guide/api-overview/#response-200-ok_1","title":"Response 200 OK","text":""},{"location":"content/developer-guide/api-overview/#post-apianalysisdata","title":"POST /api/analysis/data","text":"<p>create a new project in Opal via Jenkins</p>"},{"location":"content/developer-guide/api-overview/#response-200-ok_2","title":"Response 200 OK","text":""},{"location":"content/developer-guide/api-overview/#post-apianalysisfiles","title":"POST /api/analysis/files","text":"<p>create a new project in Opal via Jenkins</p>"},{"location":"content/developer-guide/api-overview/#response-200-ok_3","title":"Response 200 OK","text":""},{"location":"content/developer-guide/api-overview/#post-apianalysisresults","title":"POST /api/analysis/results","text":"<p>create a new project in Opal via Jenkins</p>"},{"location":"content/developer-guide/api-overview/#response-200-ok_4","title":"Response 200 OK","text":""},{"location":"content/developer-guide/api-overview/#post-apianalysisrun","title":"POST /api/analysis/run","text":"<p>create a new project in Opal via Jenkins</p>"},{"location":"content/developer-guide/api-overview/#response-200-ok_5","title":"Response 200 OK","text":""},{"location":"content/developer-guide/api-overview/#post-apianalysisstart","title":"POST /api/analysis/start","text":"<p>Add a new analysis to the database</p>"},{"location":"content/developer-guide/api-overview/#response-200-ok_6","title":"Response 200 OK","text":""},{"location":"content/developer-guide/api-overview/#post-apianalysisstatus","title":"POST /api/analysis/status","text":"<p>get analysis status</p>"},{"location":"content/developer-guide/api-overview/#response-200-ok_7","title":"Response 200 OK","text":""},{"location":"content/developer-guide/api-overview/#post-apianalysissubmissiondata","title":"POST /api/analysis/submissiondata","text":"<p>create a new project in Opal via Jenkins</p>"},{"location":"content/developer-guide/api-overview/#response-200-ok_8","title":"Response 200 OK","text":""},{"location":"content/developer-guide/api-overview/#post-apianalysistemplatequery","title":"POST /api/analysis/template/query","text":"<p>create a new project in Opal via Jenkins</p>"},{"location":"content/developer-guide/api-overview/#response-200-ok_9","title":"Response 200 OK","text":""},{"location":"content/developer-guide/api-overview/#post-apianalysistemplatesave","title":"POST /api/analysis/template/save","text":"<p>create a new project in Opal via Jenkins</p>"},{"location":"content/developer-guide/api-overview/#response-200-ok_10","title":"Response 200 OK","text":""},{"location":"content/developer-guide/api-overview/#post-apianalysistypes","title":"POST /api/analysis/types","text":"<p>get possible analysis types based on the files</p>"},{"location":"content/developer-guide/api-overview/#response-200-ok_11","title":"Response 200 OK","text":""},{"location":"content/developer-guide/api-overview/#get-apianalysisviewcols","title":"GET /api/analysis/viewcols","text":"<p>Get datasets view fields</p> <p>Description Returns...</p> <p>Input parameters</p> Parameter In Type Default Nullable Description Authorization header string No"},{"location":"content/developer-guide/api-overview/#response-200-ok_12","title":"Response 200 OK","text":""},{"location":"content/developer-guide/api-overview/#response-500-internal-server-error","title":"Response 500 Internal Server Error","text":""},{"location":"content/developer-guide/api-overview/#test","title":"test","text":""},{"location":"content/developer-guide/api-overview/#get-apicurltest","title":"GET /api/curltest","text":"<p>To test curl access</p>"},{"location":"content/developer-guide/api-overview/#response-200-ok_13","title":"Response 200 OK","text":""},{"location":"content/developer-guide/api-overview/#get-apitokentest","title":"GET /api/tokentest","text":""},{"location":"content/developer-guide/api-overview/#response-200-ok_14","title":"Response 200 OK","text":""},{"location":"content/developer-guide/api-overview/#datasets","title":"datasets","text":""},{"location":"content/developer-guide/api-overview/#put-apidatasets","title":"PUT /api/datasets/","text":"<p>update a Dataset of a certain userid</p> <p>Input parameters</p> Parameter In Type Default Nullable Description Authorization header string No"},{"location":"content/developer-guide/api-overview/#response-200-ok_15","title":"Response 200 OK","text":""},{"location":"content/developer-guide/api-overview/#post-apidatasetsadminupdate","title":"POST /api/datasets/admin/update","text":"<p>Update dataset(s)</p> <p>Input parameters</p> Parameter In Type Default Nullable Description Authorization header string No"},{"location":"content/developer-guide/api-overview/#response-200-ok_16","title":"Response 200 OK","text":""},{"location":"content/developer-guide/api-overview/#post-apidatasetsadminview","title":"POST /api/datasets/admin/view","text":"<p>Get all the dataset data</p>"},{"location":"content/developer-guide/api-overview/#response-200-ok_17","title":"Response 200 OK","text":""},{"location":"content/developer-guide/api-overview/#post-apidatasetsadminviewcols","title":"POST /api/datasets/adminviewcols","text":"<p>Get datasets admin columns</p> <p>Description Returns...</p> <p>Input parameters</p> Parameter In Type Default Nullable Description Authorization header string No"},{"location":"content/developer-guide/api-overview/#response-200-ok_18","title":"Response 200 OK","text":""},{"location":"content/developer-guide/api-overview/#response-500-internal-server-error_1","title":"Response 500 Internal Server Error","text":""},{"location":"content/developer-guide/api-overview/#post-apidatasetsall","title":"POST /api/datasets/all","text":"<p>Get all the datasets data by keycloak group</p> <p>Description Returns...</p> <p>Input parameters</p> Parameter In Type Default Nullable Description Authorization header string No <p>Request body</p> <p>application/json</p> <p><pre><code>{\n    \"pageSize\": 0,\n    \"page\": 0,\n    \"sorted\": \"string\",\n    \"filtered\": \"string\"\n}\n</code></pre> This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> <p>Schema of the request body</p> <pre><code>{\n    \"type\": \"object\",\n    \"properties\": {\n        \"pageSize\": {\n            \"type\": \"integer\",\n            \"description\": \"Number of datasets per page\"\n        },\n        \"page\": {\n            \"type\": \"integer\",\n            \"description\": \"Page number\"\n        },\n        \"sorted\": {\n            \"type\": \"string\",\n            \"description\": \"Sorted by\"\n        },\n        \"filtered\": {\n            \"type\": \"string\",\n            \"description\": \"Filtered by\"\n        }\n    }\n}\n</code></pre>"},{"location":"content/developer-guide/api-overview/#response-200-ok_19","title":"Response 200 OK","text":""},{"location":"content/developer-guide/api-overview/#response-500-internal-server-error_2","title":"Response 500 Internal Server Error","text":""},{"location":"content/developer-guide/api-overview/#post-apidatasetsclinicaluploadfinish","title":"POST /api/datasets/clinical/uploadfinish","text":"<p>create a presigned url for the clinical data upload</p> <p>Description and store it in the database</p> <p>Input parameters</p> Parameter In Type Default Nullable Description Authorization header string No"},{"location":"content/developer-guide/api-overview/#response-200-ok_20","title":"Response 200 OK","text":""},{"location":"content/developer-guide/api-overview/#post-apidatasetscreate","title":"POST /api/datasets/create","text":"<p>Description Returns...</p> <p>Input parameters</p> Parameter In Type Default Nullable Description Authorization header string No"},{"location":"content/developer-guide/api-overview/#response-200-ok_21","title":"Response 200 OK","text":""},{"location":"content/developer-guide/api-overview/#response-500-internal-server-error_3","title":"Response 500 Internal Server Error","text":""},{"location":"content/developer-guide/api-overview/#post-apidatasetslist","title":"POST /api/datasets/list","text":"<p>Get all datasets by keycloak group and filtered by project_id</p> <p>Description Returns list of all dataset IDs of the user's kc group;             can be filtered by dataset id</p> <p>(additionally it can be filtered by the dataset_id)</p> <p>Input parameters</p> Parameter In Type Default Nullable Description Authorization header string No"},{"location":"content/developer-guide/api-overview/#response-200-ok_22","title":"Response 200 OK","text":""},{"location":"content/developer-guide/api-overview/#response-500-internal-server-error_4","title":"Response 500 Internal Server Error","text":""},{"location":"content/developer-guide/api-overview/#post-apidatasetspolicyuploadfinish","title":"POST /api/datasets/policy/uploadfinish","text":"<p>create a presigned url for the dataset policy upload</p> <p>Description and store it in the database</p> <p>Input parameters</p> Parameter In Type Default Nullable Description Authorization header string No"},{"location":"content/developer-guide/api-overview/#response-200-ok_23","title":"Response 200 OK","text":""},{"location":"content/developer-guide/api-overview/#post-apidatasetssubmissioncols","title":"POST /api/datasets/submissioncols","text":"<p>Get the columnn specification for the dataset submission</p> <p>Description Modify the columns for dataset submission</p> <p>from the project table</p> <p>Input parameters</p> Parameter In Type Default Nullable Description Authorization header string No"},{"location":"content/developer-guide/api-overview/#response-200-ok_24","title":"Response 200 OK","text":""},{"location":"content/developer-guide/api-overview/#response-500-internal-server-error_5","title":"Response 500 Internal Server Error","text":""},{"location":"content/developer-guide/api-overview/#post-apidatasetsvalidate","title":"POST /api/datasets/validate","text":"<p>Description Returns...</p> <p>Input parameters</p> Parameter In Type Default Nullable Description Authorization header string No"},{"location":"content/developer-guide/api-overview/#response-200-ok_25","title":"Response 200 OK","text":""},{"location":"content/developer-guide/api-overview/#response-500-internal-server-error_6","title":"Response 500 Internal Server Error","text":""},{"location":"content/developer-guide/api-overview/#get-apidatasetsviewcols","title":"GET /api/datasets/viewcols","text":"<p>Get datasets view fields</p> <p>Description Returns...</p> <p>Input parameters</p> Parameter In Type Default Nullable Description Authorization header string No"},{"location":"content/developer-guide/api-overview/#response-200-ok_26","title":"Response 200 OK","text":""},{"location":"content/developer-guide/api-overview/#response-500-internal-server-error_7","title":"Response 500 Internal Server Error","text":""},{"location":"content/developer-guide/api-overview/#files","title":"files","text":""},{"location":"content/developer-guide/api-overview/#get-apifiles","title":"GET /api/files/","text":"<p>sign request</p> <p>Description github.com/TTLabs/EvaporateJS/blob/master/example/signing_example.py</p>"},{"location":"content/developer-guide/api-overview/#response-200-ok_27","title":"Response 200 OK","text":""},{"location":"content/developer-guide/api-overview/#post-apifilesadminupdate","title":"POST /api/files/admin/update","text":"<p>Update file(s)</p> <p>Input parameters</p> Parameter In Type Default Nullable Description Authorization header string No"},{"location":"content/developer-guide/api-overview/#response-200-ok_28","title":"Response 200 OK","text":""},{"location":"content/developer-guide/api-overview/#post-apifilesadminview","title":"POST /api/files/admin/view","text":"<p>Get all the file data</p>"},{"location":"content/developer-guide/api-overview/#response-200-ok_29","title":"Response 200 OK","text":""},{"location":"content/developer-guide/api-overview/#post-apifilesadminviewcols","title":"POST /api/files/adminviewcols","text":"<p>Get datasets view fields</p> <p>Description Returns...</p> <p>Input parameters</p> Parameter In Type Default Nullable Description Authorization header string No"},{"location":"content/developer-guide/api-overview/#response-200-ok_30","title":"Response 200 OK","text":""},{"location":"content/developer-guide/api-overview/#response-500-internal-server-error_8","title":"Response 500 Internal Server Error","text":""},{"location":"content/developer-guide/api-overview/#post-apifilesall","title":"POST /api/files/all","text":""},{"location":"content/developer-guide/api-overview/#response-200-ok_31","title":"Response 200 OK","text":""},{"location":"content/developer-guide/api-overview/#post-apifilescellxgene","title":"POST /api/files/cellxgene","text":""},{"location":"content/developer-guide/api-overview/#response-200-ok_32","title":"Response 200 OK","text":""},{"location":"content/developer-guide/api-overview/#post-apifilesdisable","title":"POST /api/files/disable","text":""},{"location":"content/developer-guide/api-overview/#response-200-ok_33","title":"Response 200 OK","text":""},{"location":"content/developer-guide/api-overview/#post-apifilesdonwnload","title":"POST /api/files/donwnload","text":""},{"location":"content/developer-guide/api-overview/#response-200-ok_34","title":"Response 200 OK","text":""},{"location":"content/developer-guide/api-overview/#post-apifilesdownload","title":"POST /api/files/download","text":""},{"location":"content/developer-guide/api-overview/#response-200-ok_35","title":"Response 200 OK","text":""},{"location":"content/developer-guide/api-overview/#post-apifilesfinishupload","title":"POST /api/files/finishupload","text":""},{"location":"content/developer-guide/api-overview/#response-200-ok_36","title":"Response 200 OK","text":""},{"location":"content/developer-guide/api-overview/#post-apifilesstartupload","title":"POST /api/files/startupload","text":""},{"location":"content/developer-guide/api-overview/#response-200-ok_37","title":"Response 200 OK","text":""},{"location":"content/developer-guide/api-overview/#get-apifilessubmissioncols","title":"GET /api/files/submissioncols","text":"<p>Get file submission fields</p> <p>Description Returns...</p> <p>Input parameters</p> Parameter In Type Default Nullable Description Authorization header string No"},{"location":"content/developer-guide/api-overview/#response-200-ok_38","title":"Response 200 OK","text":""},{"location":"content/developer-guide/api-overview/#response-500-internal-server-error_9","title":"Response 500 Internal Server Error","text":""},{"location":"content/developer-guide/api-overview/#post-apifilesviewcols","title":"POST /api/files/viewcols","text":"<p>Get datasets view fields</p> <p>Description Returns...</p> <p>Input parameters</p> Parameter In Type Default Nullable Description Authorization header string No"},{"location":"content/developer-guide/api-overview/#response-200-ok_39","title":"Response 200 OK","text":""},{"location":"content/developer-guide/api-overview/#response-500-internal-server-error_10","title":"Response 500 Internal Server Error","text":""},{"location":"content/developer-guide/api-overview/#projects","title":"projects","text":""},{"location":"content/developer-guide/api-overview/#post-apiprojects","title":"POST /api/projects/","text":"<p>Update a project</p> <p>Input parameters</p> Parameter In Type Default Nullable Description Authorization header string No"},{"location":"content/developer-guide/api-overview/#response-200-ok_40","title":"Response 200 OK","text":""},{"location":"content/developer-guide/api-overview/#post-apiprojectsadminupdate","title":"POST /api/projects/admin/update","text":"<p>Update a project</p> <p>Input parameters</p> Parameter In Type Default Nullable Description Authorization header string No"},{"location":"content/developer-guide/api-overview/#response-200-ok_41","title":"Response 200 OK","text":""},{"location":"content/developer-guide/api-overview/#post-apiprojectsadminview","title":"POST /api/projects/admin/view","text":"<p>Get all the project data</p> <p>Input parameters</p> Parameter In Type Default Nullable Description Authorization header string No"},{"location":"content/developer-guide/api-overview/#response-200-ok_42","title":"Response 200 OK","text":""},{"location":"content/developer-guide/api-overview/#post-apiprojectsadminviewcols","title":"POST /api/projects/adminviewcols","text":"<p>Get project submission fields</p> <p>Description Returns...</p> <p>Input parameters</p> Parameter In Type Default Nullable Description Authorization header string No"},{"location":"content/developer-guide/api-overview/#response-200-ok_43","title":"Response 200 OK","text":""},{"location":"content/developer-guide/api-overview/#response-500-internal-server-error_11","title":"Response 500 Internal Server Error","text":""},{"location":"content/developer-guide/api-overview/#post-apiprojectsall","title":"POST /api/projects/all","text":"<p>Get all the projects data by keycloak group</p> <p>Input parameters</p> Parameter In Type Default Nullable Description Authorization header string No"},{"location":"content/developer-guide/api-overview/#response-200-ok_44","title":"Response 200 OK","text":""},{"location":"content/developer-guide/api-overview/#post-apiprojectscreate","title":"POST /api/projects/create","text":"<p>Create a new project</p> <p>Description Returns...</p> <p>Input parameters</p> Parameter In Type Default Nullable Description Authorization header string No"},{"location":"content/developer-guide/api-overview/#response-200-ok_45","title":"Response 200 OK","text":""},{"location":"content/developer-guide/api-overview/#response-500-internal-server-error_12","title":"Response 500 Internal Server Error","text":""},{"location":"content/developer-guide/api-overview/#get-apiprojectssubmissioncols","title":"GET /api/projects/submissioncols","text":"<p>Get project submission fields</p> <p>Description Returns...</p> <p>Input parameters</p> Parameter In Type Default Nullable Description Authorization header string No"},{"location":"content/developer-guide/api-overview/#response-200-ok_46","title":"Response 200 OK","text":""},{"location":"content/developer-guide/api-overview/#response-500-internal-server-error_13","title":"Response 500 Internal Server Error","text":""},{"location":"content/developer-guide/api-overview/#post-apiprojectsvalidate","title":"POST /api/projects/validate","text":"<p>Description Returns...</p> <p>Input parameters</p> Parameter In Type Default Nullable Description Authorization header string No"},{"location":"content/developer-guide/api-overview/#response-200-ok_47","title":"Response 200 OK","text":""},{"location":"content/developer-guide/api-overview/#response-500-internal-server-error_14","title":"Response 500 Internal Server Error","text":""},{"location":"content/developer-guide/api-overview/#template","title":"template","text":""},{"location":"content/developer-guide/api-overview/#get-apitemplate","title":"GET /api/template/","text":"<p>get the template</p>"},{"location":"content/developer-guide/api-overview/#response-200-ok_48","title":"Response 200 OK","text":""},{"location":"content/developer-guide/api-overview/#schemas","title":"Schemas","text":""},{"location":"content/developer-guide/api-overview/#all_datasets_get_response","title":"All_DATASETS_GET_RESPONSE","text":"Name Type filtered string page integer pageSize integer sorted string"},{"location":"content/developer-guide/api-overview/#common-responses","title":"Common responses","text":"<p>This section describes common responses that are reused across operations.</p>"},{"location":"content/developer-guide/api-overview/#parseerror","title":"ParseError","text":"<p>When a mask can't be parsed</p>"},{"location":"content/developer-guide/api-overview/#maskerror","title":"MaskError","text":"<p>When any error occurs on mask</p>"},{"location":"content/developer-guide/api-overview/#apiexception","title":"ApiException","text":"<p>Return custom JSON when APIException is raised</p>"},{"location":"content/developer-guide/api-overview/#tags","title":"Tags","text":"Name Description test test related operations template template related operations projects projects related operations datasets datasets related operations files files related operations analysis analysis related operations"},{"location":"content/developer-guide/automated-testing/","title":"Automated Testing","text":""},{"location":"content/developer-guide/automated-testing/#server-testing-using-pytest","title":"Server testing using Pytest","text":"<p>The server is tested using Pytest. To run the tests, you need to have the server running.  You can run the tests using the following command:</p> <pre><code>$ make test\n</code></pre>"},{"location":"content/developer-guide/automated-testing/#client-testing-using-cypress","title":"Client testing using Cypress","text":"<p>The client is tested using Cypress. To run the tests, you need to have the client running.  You can run the tests using the following command:</p> <pre><code>$ npm run test\n</code></pre>"},{"location":"content/developer-guide/configuration/","title":"Configuration","text":""},{"location":"content/developer-guide/configuration/#server-configuration","title":"Server Configuration","text":"<p>               Bases: <code>object</code></p> Source code in <code>docs/content/developer-guide/dummy_package/config.py</code> <pre><code>class OmicsDM_Server_Config(object):\n\n    # DB\n    SQLALCHEMY_DATABASE_URI = \"postgresql://postgres:password@IP/postgres\"\n    SQLALCHEMY_TRACK_MODIFICATIONS = False\n\n    # Auth\n    SECRET_KEY = \"othrt-some-secret-string\"\n    JWT_SECRET_KEY = \"jwt-secret-string\"\n    JWT_OPTIONS = {\"verify_exp\": False, \"verify_aud\": False}\n\n    AUTH_BASE_URL = \"http://localhost:8080\"\n    AUTH_REALM = \"Shinyproxy\"\n    IDRSA = \"MIIB...\"\n\n    # S3 (in the past Ceph was employed)\n    CEPH_URL = \"http://localhost:9000/\"\n    BUCKET_NAME = \"bucketdevel3tr\"\n\n    ACCESS_KEY = \"accesskey\"\n    SECRET_KEY = \"secretkey\"\n\n    # Analysis\n    REDIS_HOST = \"localhost\"\n    REDIS_PORT = 6379\n\n    CELERY_BROKER_URL = \"amqp://admin:PASSWORD@IP:PORT//\"\n    CELERY_RESULT_BACKEND = f\"redis://{REDIS_HOST}:{REDIS_PORT}/0\"\n    CELERY_TRACK_STARTED = True\n</code></pre>"},{"location":"content/developer-guide/configuration/#client-configuration","title":"Client Configuration","text":"<pre><code>{\n  \"security\": true,\n  \"api_endpoint\": \"http://localhost:8082/\",\n  \"config_keycloak\": {\n    \"realm\": \"3TR\",\n    \"resource\": \"omicsdm_client\",\n    \"auth-server-url\": \"http://localhost:8080/\",\n    \"ssl-required\": \"external\",\n    \"public-client\": true,\n    \"confidential-port\": 0,\n  },\n  // file upload limit: 100 GB\n  \"max_content_length\": 100 * 1000 * 1024 * 1024,\n\n  \"config_aws\": {\n    \"cloudfront\": true,\n    \"aws_url\": \"http://localhost:9000\",\n    \"signerUrl\":\"http://localhost:8082/api/files\",\n\n    \"aws_key\": \"accesskey\",\n    \"bucket\": \"bucketdevel3tr\",\n    \"awsRegion\": \"us-east-1\",\n\n    \"computeContentMd5\": false,\n    \"partSize\": 6 * 1024 * 1024,\n    \"maxConcurrentParts\": 5,\n    \"awsSignatureVersion\": \"2\",\n    \"sendCanonicalRequestToSignerUrl\": true,\n  }\n}\n</code></pre>"},{"location":"content/developer-guide/configuration/#shinyproxy-configuration","title":"Shinyproxy Configuration","text":"<p>ShinyProxy is only needed for the Visualisation Module.</p> <p>3TR-specific</p> <p>The visualisation module is not available for the 3TR consortium.</p> <pre><code>server:\n  forward-headers-strategy: native\n\nproxy:\n  title: Open Analytics Shiny Proxy\n  logo-url: https://www.openanalytics.eu/shinyproxy/logo.png\n  landing-page: /\n  heartbeat-rate: 10000\n  heartbeat-timeout: 60000\n  port: 8080\n  authentication: openid\n  my-apps-mode: InLine\n  admin-groups: admin\n  oauth2:\n    resource-id: shinyproxy\n    jwks-url: \"http://${KC_INTERNAL_URL}/realms/${KC_REALM}/protocol/openid-connect/certs\"\n    roles-claim: realm_roles\n    username-attribute: preferred_username\n  openid:\n    auth-url: \"http://${DOMAIN}/realms/${KC_REALM}/protocol/openid-connect/auth\"\n    logout-url: \"http://${DOMAIN}/realms/${KC_REALM}/protocol/openid-connect/logout?client_id=shinyproxy&amp;post_logout_redirect_uri=http://localhost:3830\"\n    token-url: \"http://${KC_INTERNAL_URL}/realms/${KC_REALM}/protocol/openid-connect/token\"\n    jwks-url: \"http://${KC_INTERNAL_URL}/realms/${KC_REALM}/protocol/openid-connect/certs\"\n    client-id: \"${KC_CLIENT_ID}\"\n    Client-secret: \"${KC_CLIENT_SECRET}\"\n    username-attribute: email\n    roles-claim: realm_roles\n  docker:\n    internal-networking: true\n  specs:\n    - id: 01_cellxgene\n      display-name: Cellxgene\n      description: Single-cell RNA-seq visualization tool\n      container-cmd: [\n        launch,\n        https://cellxgene-example-data.czi.technology/pbmc3k.h5ad\n      ]\n      container-image: cz/cellxgene\n      container-network: 3tr-server_sp-net\nlogging:\n  file:\n    name: shinyproxy.log\n</code></pre>"},{"location":"content/developer-guide/quickstart/","title":"Quickstart","text":""},{"location":"content/developer-guide/sql-tables/","title":"SQL Tables","text":"<p>Note the frequent use of the entity attribute extra_cols. It got introduced to allow for a flexible schema, so additional attributes  can be added to an entity without the need to change the database schema. See below how that concept is leveraged in 3TR:</p> <p>3TR-specific</p> Entity Extra attributes (extra_cols) [\ud83d\udd24:character;\ud83d\udd22:integer;\u2705:boolean;\ud83d\udd17:URL] Projects description \ud83d\udd24, diseases \ud83d\udd24, logo_url \ud83d\udd17, dataset_visibility_default \ud83d\udd24, dataset_visibility_changeable \u2705, file_dl_allowed \u2705 Analyses None Files comments \ud83d\udd24 Datasets disease \ud83d\udd24, treatment \ud83d\udd24, molecular_info \ud83d\udd24, sample_type \ud83d\udd24, data_type \ud83d\udd22, value_type \ud83d\udd24, platform \ud83d\udd24, genome_assembly \ud83d\udd24, genome_annotation \ud83d\udd24, samples_count \ud83d\udd22, features_count \ud83d\udd22, features_ids \ud83d\udd24, healthy_controls_included \u2705, additional_info \ud83d\udd24, contact \ud83d\udd24, tags \ud83d\udd24, pheno-clinical_data_file \ud83d\udd17, extra_policies_file \ud83d\udd17"},{"location":"content/introduction/functionalities-organized-in-modules/","title":"3TR OmicsDM modules","text":"<p>The functionalities of the OmicsDM data warehouse solution are conceptually organized in modules, namely:</p> <ul> <li>Core</li> <li>Data Visualisation</li> <li>Data Analyses</li> </ul> <p>3TR specific</p> <p>The data visualisation and the analysis module is disabled in the 3TR instance of OmicsDM.</p>"},{"location":"content/introduction/functionalities-organized-in-modules/#core","title":"Core","text":"<p>The Core module is the backbone of the OmicsDM data warehouse solution. It provides the basic functionalities to store, share, and manage data.</p>"},{"location":"content/introduction/functionalities-organized-in-modules/#data-visualisation","title":"Data Visualisation","text":"<p>The data visualisation module is leveraging ShinyProxy  to provide private data visualisation environments per user. As a proof of concept, the module is providing a  CELLxGENE annotate instance.</p>"},{"location":"content/introduction/functionalities-organized-in-modules/#data-analyses","title":"Data Analyses","text":"<p>The Data Analyses module provides the functionalities to run analyses directly in the OmicsDM data warehouse. It is employing Celery to manage the job execution  and the actual analyses pipelines can be implemented either in Snakemake  or Nextflow.</p>"},{"location":"content/introduction/stored-data-examples/","title":"Data stored in OmicsDM","text":"<p>OmicsDM was designed to store the following two data types:</p> <ul> <li> <p> Omics Data</p> <p>Omics data is a high-throughput data type that is generated by technologies such as DNA/RNA-seq, proteomics, metabolomics etc.</p> <p>3TR specific</p> <p>Only submit processed data that is ready for analyses.</p> </li> <li> <p> Clinical Data</p> <p>Clinical data is the data that describes the phenotype and clinical information of the samples from which the omics data was generated.</p> <p>In the best scenario, this data comes in the form of  GA4GH standards such as:</p> <p>Phenopackets v2  or Beacon-friendly-format.</p> </li> </ul>"},{"location":"content/introduction/stored-data-examples/#omics-data-example","title":"Omics Data Example","text":""},{"location":"content/introduction/stored-data-examples/#rna-seq-data-example-from-cellxgene","title":"RNA-seq Data Example from CELLxGENE","text":"<p>In the python ecosystem one of the most used tool for single-cell RNA-seq data analysis is Scanpy, which is built on top of AnnData. The latter is a data structure for storing annotated data matrices, which can be saved to disk in the form of a <code>.h5ad</code> file.</p> <p>Thus, you find below a <code>.h5ad</code> example, which not only can be stored in OmicsDM but also be explored  using OmicsDM's visualisation module.</p> <ul> <li>scRNA-seq example</li> </ul> <p>3TR specific</p> <p>The visualisation module is disabled in the 3TR instance of OmicsDM.</p>"},{"location":"content/introduction/stored-data-examples/#clinical-data-example","title":"Clinical Data Example","text":""},{"location":"content/introduction/stored-data-examples/#clinical-information-exported-from-redcap","title":"Clinical Information Exported from REDCap","text":"<p>In the 3TR project most of the clinical information is stored in REDCap, a widely adopted web application for building and managing online surveys and database. The information is then exported in the form of two CSV files. Click on each link to see an example of the content of the files:</p> <ul> <li>REDCap data export</li> <li>REDCap data dictionary export</li> </ul>"},{"location":"content/introduction/what-is-omicsdm/","title":"What is OmicsDM?","text":"<p>OmicsDM is an open-source web-based data warehouse solution that  not only allows the storage and sharing of data  but also provides functionalities to start data visualisation instances  such as CELLxGENE Annotate  and run analyses directly in the data warehouse.</p> <p>          Placeholder logo created with DALL\u00b7E 3 </p> <p>Good to know</p> <p><code>OmicsDM</code> is the data backbone of the 3TR project.</p>"},{"location":"content/sysadmin-guide/configuration/","title":"Configuration","text":""},{"location":"content/sysadmin-guide/configuration/#keycloak","title":"Keycloak","text":"<p>TL;DR</p> <p>Just import the file realm-export.json. It will create the required realm (\"3TR\"), clients (\"omicsdm\", \"shinyproxy\"), mappers etc.</p>"},{"location":"content/sysadmin-guide/configuration/#explanations","title":"Explanations","text":""},{"location":"content/sysadmin-guide/configuration/#clients","title":"Clients","text":"<p>As you see when navigating to  admin/master/console/#/3TR/clients two clients have been created:</p> <ul> <li>omicsdm:  Needed for omicsdm-server                 and omicsdm-client</li> <li>shinyproxy: Needed only when running OmicsDM with the analysis module</li> </ul>"},{"location":"content/sysadmin-guide/configuration/#mappers","title":"Mappers","text":"<p>As you see when navigating to  admin/master/console/#/3TR/client-scopes the client scope \"shared_mappers\" has been created:</p> Name Type Description Needed for group Group Membership add the users' group to the access token OmicsDM core email User Property replace the username with the user's email Analysis module include_audience Audience add shinyproxy to audience Analysis module <p>This client scope has added to the clients \"omicsdm\" and \"shinyproxy\" as a default client scope.</p>"},{"location":"content/sysadmin-guide/dependencies/","title":"Dependencies","text":""},{"location":"content/sysadmin-guide/dependencies/#pre-requisites","title":"Pre-requisites","text":"<p>Before deploying OmicsDM, you need to install the following dependencies:</p> <ul> <li>Docker</li> <li>Docker Compose</li> </ul>"},{"location":"content/sysadmin-guide/dependencies/#services","title":"Services","text":"Required by Service Description Version License Core Keycloak Identity and access management solution. 22 Apache-2.0 Core PostgreSQL Object-relational database system. 13.4 PostgreSQL Core MinIO Distributed object storage server. 2021-10-06T00-00-00Z Apache-2.0 Visualisation Module ShinyProxy Analysis Module Celery Analysis Module REDIS In-memory data structure store, used as a database, cache, and message broker. 6.2.5 BSD-3-Clause Analysis Module RabbitMQ Message broker that implements the Advanced Message Queuing Protocol (AMQP). 3.9.7 Mozilla Public License 1.1"},{"location":"content/sysadmin-guide/deployment/","title":"Deployment","text":""},{"location":"content/sysadmin-guide/deployment/#server","title":"Server","text":"<pre><code>git clone https://github.com/CNAG-Biomedical-Informatics/omicsdm-server.git\n$ docker compose up\n</code></pre>"},{"location":"content/sysadmin-guide/deployment/#client","title":"Client","text":"<pre><code>git clone https://github.com/CNAG-Biomedical-Informatics/omicsdm-client.git\n$ docker compose up\n</code></pre>"},{"location":"content/user-guide/data-analyses/","title":"Data Analyses","text":"<p>3tr</p> <p>This feature is not available for the 3TR consortium.</p> <p>Proof-of-concept Run bulk RNA-seq analysis</p> <p>This section shows a proof-of-concept  of how to run DESeq2 and downstream analysis tools such as fgsea and g:profiler on bulk RNA-seq data</p>"},{"location":"content/user-guide/data-analyses/#steps-to-analyse-bulk-rna-seq-data","title":"Steps to analyse bulk RNA-seq data:","text":"<p>A bulk RNA-seq analysis can only be started for count matrix files</p> <p>example data</p> <ol> <li>Navigate to the datasets overview page by clicking on \"DATA MANAGEMENT\" in the navigation bar on the left.</li> </ol>"},{"location":"content/user-guide/data-sharing/","title":"Data Sharing","text":"<p>Data Sharing is only possible on the group level</p> <ul> <li>A \"Private\" dataset is only visible to the group members</li> <li>A datase \"visible to all\" is accesible by all data warehousers users</li> <li>All the on the dataset level applied sharing settings are inherited by the files</li> </ul> <p>3TR specific</p> <ul> <li>Here a group is an institute/company</li> <li>Here \"visible to all\" means accessible to all members of the consortium</li> </ul>"},{"location":"content/user-guide/data-sharing/#steps-to-unshare-data-with-a-group","title":"Steps to (un)share data with a group:","text":"3TR specific: Link to the datasets overview page <p>3tr.gpap.cnag.eu/portal/#/datasets</p> <ol> <li>Navigate to the datasets overview page by clicking on \"DATA MANAGEMENT\" in the navigation bar on the left</li> <li>Tick the checkbox of the dataset(s) you want to un(share)</li> <li>In the dropdown menu next \"Share/Unshare\" select the action you want to perform (Share/Unshare with groups).</li> <li>Click on \"Select groups\" </li> <li>In the opened modal select the group you want to un/share the dataset(s) with.    \"ALL\" means all groups.</li> <li>Click in the modal on \"UPDATE TABLE\" to apply the changes</li> </ol> <p>Project settings cannot be overwritten</p> <p>If the datase's default visibility is set to \"visible to all\"  and dataset visibility changeable is set to \"false\" the dataset cannot made private, respectively only shared with specific group(s)</p>"},{"location":"content/user-guide/data-visualisation/","title":"Data Visualisation","text":"<p>3tr</p> <p>This feature is not available for the 3TR consortium.</p> <p>Proof-of-concept Single Cell RNA-seq data visualisation</p> <p>This section shows a proof-of-concept  of how to start a CELLxGENE Annotate instance</p>"},{"location":"content/user-guide/data-visualisation/#steps-to-start-a-cellxgene-annotate-instance","title":"Steps to start a CELLxGENE Annotate instance:","text":"<p>A CELLxGENE Annotate instance can only be started for H5AD files</p> <p>example data</p> <ol> <li> <p>Navigate to the datasets overview page by clicking on \"DATA MANAGEMENT\" in the navigation bar on the left.</p> </li> <li> <p>Navigate from there to the files overview page by clicking on \"SHOW ALL FILES\".</p> </li> <li> <p>Click on the CELLxGENE Logo in the Visualisation column of the file you want to visualise.</p> </li> <li> <p>A new modal will open showing the URL for the in the background started CELLxGENE Annotate instance.</p> </li> <li> <p>Click on the URL to open the CELLxGENE Annotate instance in a new tab.</p> </li> </ol>"},{"location":"content/user-guide/faq/","title":"FAQ","text":""},{"location":"content/user-guide/faq/#general","title":"General","text":""},{"location":"content/user-guide/faq/#dataset-creation","title":"Dataset creation","text":"I accidentally filled some fields wrong, can I correct them? <p>No, you cannot correct the fields after the dataset has been created.  Please contact the helpdesk to explain the situation so the admin can correct the fields for you.</p>"},{"location":"content/user-guide/faq/#last-change-2024-12-08-by-ivo-leist","title":"last change 2024-12-08 by Ivo Leist","text":""},{"location":"content/user-guide/faq/#file-upload","title":"File upload","text":"Does the upload start immediately as soon I have selected a file? <p>Eventhough it looks like the upload has started, the files are not uploaded until you click on \"SUBMIT\". </p> Can I pause the upload process and resume later? <p>No, the upload process is not resumable. If you e.g. close the browser tab, the upload process is interrupted and you have to start over.</p> After uploading I realised that there is a mistake in the file. Can I correct it? <p>No, you cannot overwite the uploaded file. Best is to upload the again with the correct data making sure it has the same name as the original file. The system will automatically version the file. To avoid confusion, you can mark the original file as \"deleted\" so the users only have access to the correct file.</p> I accidentaly uploaded a wrong file, can I delete it? <p>No, you cannot delete any uploaded file (refer to File deletion). Best is to mark the file as \"deleted\" so no one can access it. If the file contains sensitive data, please explain the situation in an email to the helpdesk.</p>"},{"location":"content/user-guide/faq/#last-change-2024-12-08-by-ivo-leist_1","title":"last change 2024-12-08 by Ivo Leist","text":""},{"location":"content/user-guide/faq/#last-change-2024-12-08-by-ivo-leist_2","title":"last change 2024-12-08 by Ivo Leist","text":""},{"location":"content/user-guide/faq/#last-change-2024-12-08-by-ivo-leist_3","title":"last change 2024-12-08 by Ivo Leist","text":""},{"location":"content/user-guide/faq/#last-change-2024-12-08-by-ivo-leist_4","title":"last change 2024-12-08 by Ivo Leist","text":""},{"location":"content/user-guide/faq/#file-download","title":"File download","text":"Can I download multiple files at once? <p>No, you have to download each selected file individually.</p> Downloading each file one by one with the browser is a bit tedious, you have an idea? <p>I would suggest to use tools like <code>wget</code> or <code>curl</code> to download multiple files  as soon you got the URLs from the file download modal.</p> Why do you not support the download of multiple files at once in a zip? <p>The files are directly donwloaded from the S3 bucket.  Temporarily storing them on the server to bundle them into a zip file would  introduce additional complexity, increase server load, and potentially pose security risks.</p>"},{"location":"content/user-guide/faq/#last-change-2024-12-08-by-ivo-leist_5","title":"last change 2024-12-08 by Ivo Leist","text":""},{"location":"content/user-guide/faq/#last-change-2024-12-08-by-ivo-leist_6","title":"last change 2024-12-08 by Ivo Leist","text":""},{"location":"content/user-guide/faq/#last-change-2024-12-08-by-ivo-leist_7","title":"last change 2024-12-08 by Ivo Leist","text":""},{"location":"content/user-guide/file-download/","title":"File Download","text":"<p>3TR specific: Link to the files overview page</p> <p>Here is the link to the page showing all accessible files: 3tr.gpap.cnag.eu/portal/#/files</p>"},{"location":"content/user-guide/file-download/#steps-to-download-files","title":"Steps to download file(s):","text":"<ol> <li> <p>Navigate to the datasets overview page by clicking on \"DATA MANAGEMENT\" in the navigation bar on the left.     The decision which files to download can be made in two ways:</p> <p>   flowchart LR     start{\"Download file(s)\"}     option1(\"From all datasets\")     option2(\"Tick on the checkboxes of your dataset(s) of interest\")     subgraph \"Possible Button Texts\"         btnText1[\"SHOW ALL FILES\"]         btnText2[\"SHOW TO THE SELECTED DATASET/S ASSOCIATED FILES\"]     end     start --&gt; option1     start --&gt; option2     option1 --&gt; btnText1     option2 --&gt; btnText2 </p> <p>Having clicked on the Button shown in the previous step, you will be redirected to the files overview page.</p> </li> <li> <p>Tick the checkbox of the file(s) you want to download.</p> </li> <li> <p>Click on \"DOWNLOAD FILES\"</p> </li> <li> <p>In the opened modal click on each of the URLs to download the file(s).</p> <p>FAQ</p> Can I download multiple files at once? <p>No, you have to download each selected file individually.</p> Downloading each file one by one with the browser is a bit tedious, you have an idea? <p>I would suggest to use tools like <code>wget</code> or <code>curl</code> to download multiple files  as soon you got the URLs from the file download modal.</p> Why do you not support the download of multiple files at once in a zip? <p>The files are directly donwloaded from the S3 bucket.  Temporarily storing them on the server to bundle them into a zip file would  introduce additional complexity, increase server load, and potentially pose security risks.</p> </li> </ol>"},{"location":"content/user-guide/file-download/#last-change-2024-12-08-by-ivo-leist","title":"last change 2024-12-08 by Ivo Leist","text":""},{"location":"content/user-guide/file-download/#last-change-2024-12-08-by-ivo-leist_1","title":"last change 2024-12-08 by Ivo Leist","text":""},{"location":"content/user-guide/file-download/#last-change-2024-12-08-by-ivo-leist_2","title":"last change 2024-12-08 by Ivo Leist","text":""},{"location":"content/user-guide/get-access-3tr/","title":"Get Access","text":""},{"location":"content/user-guide/get-access-3tr/#step-1-request-access","title":"Step 1: Request access","text":"<p>3TR specific section</p> <p>Only 3TR partners can request access to the OmicsDM data warehouse solution.</p> <p>Write an email to CNAG's 3TR helpdesk providing the following information:</p> <ul> <li>institution</li> <li>email</li> <li>first name</li> <li>last name</li> </ul> <p>Email address</p> <p>Only company/institutional email addresses are accepted.</p>"},{"location":"content/user-guide/get-access-3tr/#step-2-receive-welcome-email","title":"Step 2: Receive welcome email","text":"<p>Help I did not receive the welcome email</p> <ul> <li>Please check your spam folder</li> <li>Add the helpdesk email address to your safe senders list</li> </ul> <p>After the request, you will receive a welcome email with a 48-hour valid link prompting you to:</p> <ul> <li>Set your password</li> <li>Accept the code of conduct</li> <li>Configure 2-factor authentication</li> </ul> <p>Suggested 2-factor authentication app: FreeOTP</p> <ul> <li>android: play.google.com/store/apps/details?id=org.fedorahosted.freeotp</li> <li>apple: apps.apple.com/us/app/freeotp-authenticator/id872559395</li> </ul>"},{"location":"content/user-guide/get-access-3tr/#step-3-log-in","title":"Step 3: Log in","text":"<ol> <li>Navigate to: 3tr.gpap.cnag.eu/portal</li> <li>Click on \"LOGIN\" (top right)</li> <li>Fill in your credentials (The username is usually: &lt;firstNameFirstLetter&gt;&lt;lastName&gt;)</li> <li>Click on \"Log In\"</li> <li>Open the 2-factor authentication app (on your mobile phone), press on the entry for 3TR (a 6-digit code will appear)</li> <li>Back in the browser, fill in the 6-digit code and click on \"Log In\"</li> </ol>"},{"location":"content/user-guide/introduction/","title":"Introduction","text":""},{"location":"content/user-guide/introduction/#general","title":"General","text":"<p>The Data warehouse solution OmicsDM is a web-based application that not only  allows the storage and sharing of data but also provides functionalities to  start data visualisation instances such as CELLxGENE Annotate and run analyses directly in the data warehouse.</p> <p>Click on the links below to learn how to:</p> <ul> <li>Submit data</li> <li>Share data</li> <li>Download files</li> <li>Visualise single-cell data</li> <li>Run analyses</li> </ul>"},{"location":"content/user-guide/introduction/#3tr-specific","title":"3TR specific","text":"<p>Data visualisation and analyses are not enabled in 3TR's data warehouse</p> <p>The for the 3TR partners hosted OmicsDM data warehouse solution is available at  3tr.gpap.cnag.eu/portal. How to get access to the system is described in the Get Access.</p>"},{"location":"content/user-guide/data-submission/","title":"Data Submission","text":"<p>Data submission in OmicsDM is a three-step process:</p> <ul> <li>Request project(s) creation: Project creation is done by the OmicsDM admin</li> <li>Create dataset(s): Here you create the \"folder\" for your files + attach the clinical data</li> <li>Upload file(s): Here you can upload your molecular data files such as RNA-seq count matrices</li> </ul>"},{"location":"content/user-guide/data-submission/#prerequisite-request-projects","title":"Prerequisite: Request project(s)","text":"<p>Write an email to CNAG's 3TR helpdesk asking for the creation of a new project.</p> <p>Either provide the following information in the email:</p> Information Explanation Project ID A unique identifier for the project Name The name of the project Owners The users groups that should be able to create datasets in the project Description A short description of the project Diseases The diseases that should be selectable in the dropdown during dataset creation Logo Url The URL to the logo of the project Dataset Visibility default The default visibility of the datasets in the project Dataset Visibility Changeable Whether the visibility of the datasets can be changed File Download Allowed Whether the uploaded files can be downloaded by users not in the owners group(s) <p>or download the project_template  fill it out and attach it to the email.</p> <p>Why use the project creation template?</p> <ul> <li>Handy when you want to ask for the creation of multiple projects</li> <li>Makes the life more easy for the admin creating the project(s).</li> </ul>"},{"location":"content/user-guide/data-submission/#create-datasets-and-attach-clinical-data","title":"Create Datasets and Attach Clinical Data","text":"Recommended nomenclature for the Clinical data file <p>Please see the following link.</p> <p>When the project is created, you can start creating datasets (the \"folder\" for your files)</p> <ol> <li> <p>Navigate to the dataset creation page:</p> By clicking through the UI3TR specific: Link to the dataset creation page <ol> <li>Click on \"DATA SUBMISSION\" in the navigation bar on the left</li> <li>Click on \"Create new Dataset\"</li> <li>Select the project you want to create the dataset in</li> </ol> <p>3tr.gpap.cnag.eu/portal/#/submitdatasets</p> </li> <li> <p>Create the dataset(s):</p> <ol> <li>Fill out the table on the page manually  or by uploading a filled out  dataset_template.</li> <li>Click on \"Browse\" in the \"Clinical File\" column to select the corresponding clinical information file to be uploaded</li> <li>Optional: Click on \"Browse\" in the \"Data Usage Policy File\" column to upload a file containing specific data usage policy</li> <li>Click on \"VALIDATE\" to check if all mandatory fields are filled out</li> <li>Click on \"SUBMIT\" to create the dataset(s)</li> </ol> <p>FAQ</p> I accidentally filled some fields wrong, can I correct them? <p>No, you cannot correct the fields after the dataset has been created.  Please contact the helpdesk to explain the situation so the admin can correct the fields for you.</p> </li> </ol>"},{"location":"content/user-guide/data-submission/#last-change-2024-12-08-by-ivo-leist","title":"last change 2024-12-08 by Ivo Leist","text":""},{"location":"content/user-guide/data-submission/#upload-molecular-data-files","title":"Upload Molecular Data File(s)","text":"<p>Tip: You can upload multiple files at once!</p> <p>3TR specific</p> <p>Here is the link to directly navigate to the file upload page: 3tr.gpap.cnag.eu/portal/#/submitfiles</p> <ol> <li> <p>Navigate to the file upload page:</p> By clicking through the UI3TR specific: Link to the file upload page <ol> <li>Click on \"DATA SUBMISSION\" in the navigation bar on the left</li> <li>Click on \"Submit files\"</li> </ol> <p>3tr.gpap.cnag.eu/portal/#/submitfiles</p> </li> <li> <p>Upload the file(s):</p> <ol> <li>Select the project you want to upload the file(s) to</li> <li>Select in the Dataset ID dropdown the dataset  you want to upload the file(s) to or upload a filled out  file_template.</li> <li>Click on \"Browse\" to select the file(s) you want to upload</li> <li>Click on \"VALIDATE\" to check if all mandatory fields are filled out</li> <li>Click on \"SUBMIT\" to upload the file(s)</li> </ol> <p>FAQ</p> Does the upload start immediately as soon I have selected a file? <p>Eventhough it looks like the upload has started, the files are not uploaded until you click on \"SUBMIT\". </p> Can I pause the upload process and resume later? <p>No, the upload process is not resumable. If you e.g. close the browser tab, the upload process is interrupted and you have to start over.</p> After uploading I realised that there is a mistake in the file. Can I correct it? <p>No, you cannot overwite the uploaded file. Best is to upload the again with the correct data making sure it has the same name as the original file. The system will automatically version the file. To avoid confusion, you can mark the original file as \"deleted\" so the users only have access to the correct file.</p> I accidentaly uploaded a wrong file, can I delete it? <p>No, you cannot delete any uploaded file (refer to File deletion). Best is to mark the file as \"deleted\" so no one can access it. If the file contains sensitive data, please explain the situation in an email to the helpdesk.</p> <p>3TR specific</p> <p>Please do not see our data warehouse as a storage for your raw data. Only upload processed data that is ready for analyses.</p> </li> </ol>"},{"location":"content/user-guide/data-submission/#last-change-2024-12-08-by-ivo-leist_1","title":"last change 2024-12-08 by Ivo Leist","text":""},{"location":"content/user-guide/data-submission/#last-change-2024-12-08-by-ivo-leist_2","title":"last change 2024-12-08 by Ivo Leist","text":""},{"location":"content/user-guide/data-submission/#last-change-2024-12-08-by-ivo-leist_3","title":"last change 2024-12-08 by Ivo Leist","text":""},{"location":"content/user-guide/data-submission/#last-change-2024-12-08-by-ivo-leist_4","title":"last change 2024-12-08 by Ivo Leist","text":""},{"location":"content/user-guide/data-submission/steps/","title":"Steps","text":""},{"location":"content/user-guide/data-submission/steps/#steps","title":"Steps","text":"<p>Data submission in OmicsDM is a three-step process:</p> <ul> <li>Request project(s) creation: Project creation is done by the OmicsDM admin</li> <li>Create dataset(s): Here you create the \"folder\" for your files + attach the clinical data</li> <li>Upload file(s): Here you can upload your molecular data files such as RNA-seq count matrices</li> </ul> <p>Good to know</p> <p>The information required by each of the steps can be prefilled by leveraging the provided templates.</p>"},{"location":"content/user-guide/data-submission/steps/#step-1-request-projects-creation","title":"Step 1: Request project(s) creation","text":"<p>Write an email to CNAG's 3TR helpdesk asking for the creation of a new project.</p> <p>Either provide the following information in the email:</p> Information Explanation Project ID A unique identifier for the project Name The name of the project Owners The users groups that should be able to create datasets in the project Description A short description of the project Diseases The diseases that should be selectable in the dropdown during dataset creation Logo Url The URL to the logo of the project Dataset Visibility default The default visibility of the datasets in the project Dataset Visibility Changeable Whether the visibility of the datasets can be changed File Download Allowed Whether the uploaded files can be downloaded by users not in the owners group(s) <p>or download the project_template  fill it out and attach it to the email.</p> <p>Why use the project creation template?</p> <ul> <li>Handy when you want to ask for the creation of multiple projects</li> <li>Makes the life more easy for the admin creating the project(s).</li> </ul>"},{"location":"content/user-guide/data-submission/steps/#step-2-create-datasets","title":"Step 2: Create dataset(s)","text":"<p>3TR specific</p> <p>Here is the link to directly navigate to the dataset creation page: 3tr.gpap.cnag.eu/portal/#/submitdatasets</p> <p>When the project is created, you can start creating datasets (the \"folder\" for your files)</p> <ol> <li> <p>Navigate to the dataset creation page: </p> <ol> <li>Click on \"DATA SUBMISSION\" in the navigation bar on the left</li> <li>Click on \"Create new Dataset\"</li> <li>Select the project you want to create the dataset in</li> </ol> </li> <li> <p>Create the dataset(s):</p> <ol> <li>Fill out the table on the page manually or by uploading a filled out dataset_template</li> <li>Click on \"Browse\" in the \"Clinical File\" column to select the corresponding clinical information file to be uploaded</li> <li>Optional: Click on \"Browse\" in the \"Data Usage Policy File\" column to upload a file containing specific data usage policy</li> <li>Click on \"VALIDATE\" to check if all mandatory fields are filled out</li> <li>Click on \"SUBMIT\" to create the dataset(s)</li> </ol> <p>Why use the dataset creation template?</p> <p>Handy when you want to create multiple datasets</p> <p>FAQ</p> I accidentally filled some fields wrong, can I correct them? <p>No, you cannot correct the fields after the dataset has been created.  Please contact the helpdesk to explain the situation so the admin can correct the fields for you.</p> </li> </ol>"},{"location":"content/user-guide/data-submission/steps/#last-change-2024-12-08-by-ivo-leist","title":"last change 2024-12-08 by Ivo Leist","text":""},{"location":"content/user-guide/data-submission/steps/#step-3-upload-files","title":"Step 3: Upload file(s)","text":"<p>Good to know</p> <ul> <li>You can upload multiple files at once</li> </ul> <p>3TR specific</p> <p>Here is the link to directly navigate to the file upload page: 3tr.gpap.cnag.eu/portal/#/submitfiles</p> <ol> <li> <p>Navigate to the file upload page:</p> <ol> <li>Click on \"DATA SUBMISSION\" in the navigation bar on the left</li> <li>Click on \"Submit files\"</li> </ol> </li> <li> <p>Upload the file(s):</p> <ol> <li>Select the project you want to upload the file(s) to</li> <li>Select in the dropdown in the Dataset ID column the dataset you want to upload the file(s) to or upload a filled out file_template</li> <li>Click on \"Browse\" to select the file(s) you want to upload</li> <li>Click on \"VALIDATE\" to check if all mandatory fields are filled out</li> <li>Click on \"SUBMIT\" to upload the file(s)</li> </ol> </li> </ol> <p>Why use the file upload template?</p> <p>Handy when you want to upload multiple files to different datasets</p> <p>FAQ</p> Does the upload start immediately as soon I have selected a file? <p>Eventhough it looks like the upload has started, the files are not uploaded until you click on \"SUBMIT\". </p> Can I pause the upload process and resume later? <p>No, the upload process is not resumable. If you e.g. close the browser tab, the upload process is interrupted and you have to start over.</p> After uploading I realised that there is a mistake in the file. Can I correct it? <p>No, you cannot overwite the uploaded file. Best is to upload the again with the correct data making sure it has the same name as the original file. The system will automatically version the file. To avoid confusion, you can mark the original file as \"deleted\" so the users only have access to the correct file.</p> I accidentaly uploaded a wrong file, can I delete it? <p>No, you cannot delete any uploaded file (refer to File deletion). Best is to mark the file as \"deleted\" so no one can access it. If the file contains sensitive data, please explain the situation in an email to the helpdesk.</p> <p>3TR specific</p> <p>Please do not see our data warehouse as a storage for your raw data. Only upload processed data that is ready for analyses.</p>"},{"location":"content/user-guide/data-submission/steps/#last-change-2024-12-08-by-ivo-leist_1","title":"last change 2024-12-08 by Ivo Leist","text":""},{"location":"content/user-guide/data-submission/steps/#last-change-2024-12-08-by-ivo-leist_2","title":"last change 2024-12-08 by Ivo Leist","text":""},{"location":"content/user-guide/data-submission/steps/#last-change-2024-12-08-by-ivo-leist_3","title":"last change 2024-12-08 by Ivo Leist","text":""},{"location":"content/user-guide/data-submission/steps/#last-change-2024-12-08-by-ivo-leist_4","title":"last change 2024-12-08 by Ivo Leist","text":""},{"location":"tbl/3TR-specific-extra-cols/","title":"3TR specific extra cols","text":"Entity Extra attributes (extra_cols) [\ud83d\udd24:character;\ud83d\udd22:integer;\u2705:boolean;\ud83d\udd17:URL] Projects description \ud83d\udd24, diseases \ud83d\udd24, logo_url \ud83d\udd17, dataset_visibility_default \ud83d\udd24, dataset_visibility_changeable \u2705, file_dl_allowed \u2705 Analyses None Files comments \ud83d\udd24 Datasets disease \ud83d\udd24, treatment \ud83d\udd24, molecular_info \ud83d\udd24, sample_type \ud83d\udd24, data_type \ud83d\udd22, value_type \ud83d\udd24, platform \ud83d\udd24, genome_assembly \ud83d\udd24, genome_annotation \ud83d\udd24, samples_count \ud83d\udd22, features_count \ud83d\udd22, features_ids \ud83d\udd24, healthy_controls_included \u2705, additional_info \ud83d\udd24, contact \ud83d\udd24, tags \ud83d\udd24, pheno-clinical_data_file \ud83d\udd17, extra_policies_file \ud83d\udd17"}]}